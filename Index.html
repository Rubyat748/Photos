<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZTA</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background:#0f0f0f; color:#eee;
    min-height:100vh; line-height:1.6;
  }
  header {
    text-align:center; padding:3rem 1rem; background:#000;
    border-bottom:4px solid #fff;
  }
  h1 {
    font-size:3.8rem; font-weight:900; letter-spacing:8px; color:#fff;
    text-transform:uppercase;
  }
  .tagline { font-size:1.1rem; opacity:0.7; margin-top:10px; letter-spacing:3px; }

  .container { max-width:1150px; margin:0 auto; padding:40px 20px; }

  .upload {
    background:#111; border:2px solid #333; border-radius:12px;
    padding:50px; text-align:center; margin-bottom:50px;
    transition:0.3s; cursor:pointer;
  }
  .upload:hover { border-color:#fff; background:#1a1a1a; }
  .upload h3 { font-size:1.8rem; margin:15px 0; color:#fff; }
  .upload p { opacity:0.7; }
  input[type="file"] { display:none; }
  .btn {
    background:#fff; color:#000; border:none; padding:14px 44px;
    border-radius:50px; font-weight:bold; margin-top:20px;
    cursor:pointer; font-size:1.1rem; transition:0.3s;
  }
  .btn:hover { background:#ccc; transform:scale(1.05); }

  .gallery {
    display:grid; grid-template-columns:repeat(auto-fill, minmax(300px,1fr));
    gap:30px;
  }
  .card {
    background:#111; border-radius:12px; overflow:hidden;
    box-shadow:0 8px 30px rgba(0,0,0,0.6); transition:0.4s;
  }
  .card:hover { transform:translateY(-15px); box-shadow:0 20px 50px rgba(0,0,0,0.8); }
  .card img, .card video {
    width:100%; height:240px; object-fit:cover; display:block;
    background:#000;
  }
  .info {
    padding:18px; text-align:center; background:#111;
  }
  .info p {
    font-weight:600; margin-bottom:12px; white-space:nowrap;
    overflow:hidden; text-overflow:ellipsis; font-size:0.95rem;
  }
  .dl {
    background:#fff; color:#000; border:none; width:85%; padding:11px;
    border-radius:30px; font-weight:bold; cursor:pointer; transition:0.3s;
  }
  .dl:hover { background:#ddd; }

  .empty {
    grid-column:1/-1; text-align:center; padding:100px 20px;
    font-size:1.6rem; opacity:0.6; color:#fff;
  }

  footer {
    text-align:center; padding:50px; color:#777; font-size:0.9rem;
    margin-top:80px; border-top:1px solid #333;
  }
  @media (max-width:680px) {
    h1 { font-size:2.8rem; letter-spacing:4px; }
    .gallery { grid-template-columns:1fr; }
  }
</style>
</head>
<body>

<header>
  <h1>ZTA</h1>
  <p class="tagline">Upload • View • Download</p>
</header>

<div class="container">

  <div class="upload" id="dropZone">
    <h3>Drop Files Here</h3>
    <p>Photos & Videos — Click to select</p>
    <input type="file" id="fileInput" multiple accept="image/*,video/*">
    <button class="btn" onclick="document.getElementById('fileInput').click()">Select Files</button>
  </div>

  <div class="gallery" id="gallery">
    <div class="empty">No files uploaded yet</div>
  </div>

</div>

<footer>ZTA • Minimal Media Sharing • 2025</footer>

<script>
  const zone = document.getElementById('dropZone');
  const input = document.getElementById('fileInput');
  const gallery = document.getElementById('gallery');

  zone.onclick = () => input.click();
  ['dragover','dragenter'].forEach(e => zone.addEventListener(e, ev => { ev.preventDefault(); zone.style.borderColor='#fff'; }));
  ['dragleave','drop'].forEach(e => zone.addEventListener(e, ev => { ev.preventDefault(); zone.style.borderColor='#333'; }));
  zone.ondrop = e => { e.preventDefault(); handle(e.dataTransfer.files); };
  input.onchange = () => handle(input.files);

  function handle(files) {
    [...files].forEach(file => {
      if (!file.type.match('image.*|video.*')) return;
      const reader = new FileReader();
      reader.onload = e => {
        addCard(file.name, e.target.result, file.type);
        save();
      };
      reader.readAsDataURL(file);
    });
  }

  function addCard(name, src, type) {
    if (gallery.querySelector('.empty')) gallery.innerHTML = '';
    const card = document.createElement('div');
    card.className = 'card';
    const isVideo = type.includes('video');
    const media = isVideo
      ? `<video controls><source src="${src}" type="${type}"></video>`
      : `<img src="${src}" alt="${name}">`;
    const short = name.length > 28 ? name.slice(0, 25) + '...' : name;
    card.innerHTML = `
      ${media}
      <div class="info">
        <p title="${name}">${short}</p>
        <button class="dl" onclick="download('${src}','${name}')">Download</button>
      </div>
    `;
    gallery.appendChild(card);
  }

  function download(url, name) {
    const a = document.createElement('a');
    a.href = url; a.download = name; a.click();
  }

  function save() {
    const items = [];
    gallery.querySelectorAll('.card').forEach(c => {
      const src = c.querySelector('img, source').src;
      const name = c.querySelector('p').title || c.querySelector('p').textContent;
      items.push({src, name});
    });
    localStorage.setItem('zta_media', JSON.stringify(items));
  }

  // Load saved media
  window.onload = () => {
    const saved = localStorage.getItem('zta_media');
    if (saved) {
      JSON.parse(saved).forEach(item => {
        fetch(item.src)
          .then(r => r.blob())
          .then(blob => {
            const reader = new FileReader();
            reader.onload = () => addCard(item.name, reader.result, blob.type);
            reader.readAsDataURL(blob);
          });
      });
    }
  };
</script>
</body>
</html>
